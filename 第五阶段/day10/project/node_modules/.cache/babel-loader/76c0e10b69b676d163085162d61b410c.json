{"remainingRequest":"/Users/edz/file/code/byw-20111/第五阶段/day10/project/node_modules/babel-loader/lib/index.js!/Users/edz/file/code/byw-20111/第五阶段/day10/project/node_modules/eslint-loader/index.js??ref--13-0!/Users/edz/file/code/byw-20111/第五阶段/day10/project/src/utils/fetch.js","dependencies":[{"path":"/Users/edz/file/code/byw-20111/第五阶段/day10/project/src/utils/fetch.js","mtime":1614931033466},{"path":"/Users/edz/file/code/byw-20111/第五阶段/day10/project/node_modules/cache-loader/dist/cjs.js","mtime":1591753968333},{"path":"/Users/edz/file/code/byw-20111/第五阶段/day10/project/node_modules/babel-loader/lib/index.js","mtime":1614219710931},{"path":"/Users/edz/file/code/byw-20111/第五阶段/day10/project/node_modules/eslint-loader/index.js","mtime":1591753982765}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9lZHovZmlsZS9jb2RlL2J5dy0yMDExMS9cdTdCMkNcdTRFOTRcdTk2MzZcdTZCQjUvZGF5MTAvcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBDb21tb24gZnJvbSAnLi9jb21tb24nOwp2YXIgYXBpID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBDb21tb24uYmFzZVVybCwKICB0aW1lb3V0OiAyMDAwMDAKfSk7IC8vIOaLpuaIquivt+axggoKYXBpLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgY29uc29sZS5sb2coJ2NvbmZpZz4+Pj4+JywgY29uZmlnKTsgLy8g5Yik5pat57yT5a2Y5Lit5piv5ZCm5pyJ55m75b2V5L+h5oGv77yM5pyJ5YiZ5bCG55So5oi3aWTmlL7liLDor7fmsYLlpLTkuK0KCiAgdmFyIGlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpIHx8IG51bGw7CgogIGlmIChpZCkgewogICAgY29uZmlnLmhlYWRlcnNbInVzZXIiXSA9IGlkOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8g5a+56K+35rGC6ZSZ6K+v5YGa5Lqb5LuA5LmICiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOWwgeijhWdldOivt+axggoKdmFyIGdldCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodXJsLCBkYXRhKSB7CiAgICB2YXIgcmVzcG9uc2U7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXBpLmdldCh1cmwsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgaGFuZGxlckVycm9yKGVycm9yKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZ2V0KF94LCBfeDIpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKdmFyIHBvc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodXJsLCBkYXRhKSB7CiAgICB2YXIgcmVzcG9uc2U7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBhcGkucG9zdCh1cmwsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgaGFuZGxlckVycm9yKGVycm9yKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIHBvc3QoX3gzLCBfeDQpIHsKICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCnZhciBwdXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTModXJsLCBkYXRhKSB7CiAgICB2YXIgcmVzcG9uc2U7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBhcGkucHV0KHVybCwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgaGFuZGxlckVycm9yKGVycm9yKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gcHV0KF94NSwgX3g2KSB7CiAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7Cgp2YXIgZGVsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHVybCwgZGF0YSkgewogICAgdmFyIHJlc3BvbnNlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYXBpLnJlcXVlc3QoewogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgbWV0aG9kOiAnZGVsZXRlJwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBoYW5kbGVyRXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0KTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiBkZWwoX3g3LCBfeDgpIHsKICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsgLy8g57uf5LiA5aSE55CG6ZSZ6K+vCgoKdmFyIGhhbmRsZXJFcnJvciA9IGZ1bmN0aW9uIGhhbmRsZXJFcnJvcihlcnJvcikgewogIGFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCAn5o6l5Y+j5oql6ZSZ5LqG77yM6K+36YeN6K+V77yB77yBJyk7IC8vIGNvbnN0IGNvZGUgPSBlcnJvci5yZXNwb25zZS5kYXRhLmNvZGUKICAvLyBpZiAoY29kZSA+IDQwMCAmJiBjb2RlIDw9IDQwNSkgewogIC8vICAgICBhbGVydCgn55m75b2V5L+h5oGv5aSx5pWI77yM6K+36YeN55m777yB77yBJyk7CiAgLy8gfSBlbHNlIGlmIChjb2RlID4gNTAwKSB7CiAgLy8gICAgIGFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCAn5o6l5Y+j5oql6ZSZ5LqG77yM6K+36YeN6K+V77yB77yBJykKICAvLyB9Cn07CgpleHBvcnQgeyBnZXQsIHBvc3QsIHB1dCwgZGVsIH07"},{"version":3,"sources":["/Users/edz/file/code/byw-20111/第五阶段/day10/project/src/utils/fetch.js"],"names":["axios","Common","api","create","baseURL","baseUrl","timeout","interceptors","request","use","config","console","log","id","localStorage","getItem","headers","error","Promise","reject","get","url","data","then","res","catch","handlerError","response","post","put","del","method","alert","message"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport Common from './common'\n\nconst api = axios.create({\n    baseURL: Common.baseUrl,\n    timeout: 200000\n});\n\n// 拦截请求\napi.interceptors.request.use(function (config) {\n    console.log('config>>>>>', config);\n\n    // 判断缓存中是否有登录信息，有则将用户id放到请求头中\n    const id = localStorage.getItem('userid') || null\n    if (id) {\n        config.headers[ \"user\" ] = id;\n    }\n    \n    return config;\n  }, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n\n\n\n\n// 封装get请求\nconst get = async (url, data) => {\n    \n    const response = await api.get(url, data).then(res => {\n        return res.data\n    })\n    .catch(error => {\n        handlerError(error)\n    })\n    return response\n}\n\nconst post = async (url, data) => {\n    const response = await api.post(url, data).then(res => {\n        return res.data\n    }).catch(error => {\n        handlerError(error)\n    })\n    return response\n}\n\nconst put = async (url, data) => {\n    const response = await api.put(url, data).then(res => {\n        return res\n    }).catch(error => {\n        handlerError(error)\n    })\n    return response.data\n}\n\nconst del = async (url, data) => {\n    const response = await api.request({ data, url, method: 'delete' }).catch(error=>{\n        handlerError(error)\n    });\n    return response.data\n}\n\n\n// 统一处理错误\nconst handlerError = (error) => {\n\n    alert(error.response.data.message || '接口报错了，请重试！！')\n\n    // const code = error.response.data.code\n    // if (code > 400 && code <= 405) {\n    //     alert('登录信息失效，请重登！！');\n    // } else if (code > 500) {\n    //     alert(error.response.data.message || '接口报错了，请重试！！')\n    // }\n}\n\n\n\nexport {\n    get, post, put, del\n}\n  \n  "]}]}